<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Book Appointment | Frias handyman services, LLC</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600;700&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>
  <nav class="navbar" id="navbar">
    <div class="container nav-container">
      <div class="logo">
        <a href="index.html" style="text-decoration:none;display:flex;align-items:center;gap:10px;">
          <svg width="38" height="38" viewBox="0 0 38 38">
            <defs><linearGradient id="logoGrad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#FF9933"/><stop offset="100%" style="stop-color:#f59e0b"/></linearGradient></defs>
            <rect width="38" height="38" rx="9" fill="#336699"/>
            <path d="M9 19L16 26L29 12" stroke="url(#logoGrad)" stroke-width="3" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span class="logo-text">Frias handyman services, LLC</span>
        </a>
      </div>
      <ul class="nav-menu" id="navMenu">
        <li><a href="index.html" class="nav-link ">Home</a></li><li><a href="about.html" class="nav-link ">About</a></li><li><a href="services.html" class="nav-link ">Services</a></li><li><a href="locations.html" class="nav-link ">Locations</a></li><li><a href="booking.html" class="nav-link active">Book Now</a></li>
        <li class="nav-auth-group">
          <a href="login.html" class="nav-link btn-login" id="nav-login-btn">Login</a>
          <a href="customer-portal.html" class="nav-link btn-portal" id="nav-portal-btn" style="display:none;">My Account</a>
          <a href="admin-dashboard.html" class="nav-link btn-admin" id="nav-admin-btn" style="display:none;">Dashboard</a>
        </li>
      </ul>
      <div class="hamburger" id="hamburger"><span></span><span></span><span></span></div>
    </div>
  </nav>

  <section class="booking-section">
    <div class="container">
      <div class="booking-header">
        <span class="section-tag">Booking</span>
        <h1 class="section-title">Schedule Your Appointment</h1>
        <div id="emergency-badge" class="emergency-badge" style="display:none;">üö® Emergency Booking Mode ‚Äî Priority Scheduling Active</div>
      </div>

      <!-- Steps -->
      <div class="booking-steps">
        <div class="step active" data-step="1"><div class="step-number">1</div><span>Service</span></div>
        <div class="step-line"></div>
        <div class="step" data-step="2"><div class="step-number">2</div><span>Staff & Time</span></div>
        <div class="step-line"></div>
        <div class="step" data-step="3"><div class="step-number">3</div><span>Details</span></div>
        <div class="step-line"></div>
        <div class="step" data-step="4"><div class="step-number">4</div><span>Payment</span></div>
        <div class="step-line"></div>
        <div class="step" data-step="5"><div class="step-number">5</div><span>Confirm</span></div>
      </div>

      <!-- STEP 1: Service Selection -->
      <div class="booking-step active" id="step-1">
        <h3 class="step-title">Choose a Service</h3>
        <div class="filter-tabs" id="booking-filter-tabs">
          <button class="filter-tab active" data-filter="all">All</button>
          <button class="filter-tab" data-filter="General">General</button>
        </div>
        <div class="booking-services-grid" id="booking-services-grid">
          
          <div class="booking-service-card" data-service="Comprehensive Handyman &amp; Exterior Services" data-price="150" data-duration="60 min" data-staff='["Expert Advisor"]' data-category="General">
            <div class="bsc-header"><span class="bsc-cat">General</span><span class="bsc-price">$150</span></div>
            <h4>Comprehensive Handyman &amp; Exterior Services</h4>
            <p>From minor repairs to significant home improvements, Frias handyman services, LLC offers a wide range of reliable services designed to keep your property in pristine condition. Our skilled team handles interior tasks with precision and exterior projects with durability in mind, ensuring professional craftsmanship and peace of mind for every client in Aurora, Colorado.</p>
            <div class="bsc-meta"><span>‚è± 60 min</span><span>üë§ 1 experts</span></div>
            <button class="btn btn-select">Select</button>
          </div>
        </div>
      </div>

      <!-- STEP 2: Staff + Calendar + Time -->
      <div class="booking-step" id="step-2">
        <h3 class="step-title">Select Expert & Schedule</h3>
        <div class="booking-step2-grid">
          <div class="staff-select-panel">
            <h4>Choose Your Expert</h4>
            <div id="staff-options" class="staff-options"></div>
          </div>
          <div class="calendar-panel">
            <h4>Pick a Date</h4>
            <div class="calendar-header"><button id="prev-month" class="cal-nav">‚Äπ</button><h5 id="calendar-month-year"></h5><button id="next-month" class="cal-nav">‚Ä∫</button></div>
            <div class="calendar-weekdays"><span>Su</span><span>Mo</span><span>Tu</span><span>We</span><span>Th</span><span>Fr</span><span>Sa</span></div>
            <div id="calendar" class="calendar"></div>
          </div>
          <div class="time-panel">
            <h4>Available Times</h4>
            <div id="time-slots" class="time-slots"></div>
          </div>
        </div>
        <div class="step-actions"><button class="btn btn-ghost" onclick="prevStep()">Back</button><button class="btn btn-primary" onclick="nextStep()" id="next-btn-2" disabled>Continue</button></div>
      </div>

      <!-- STEP 3: Customer Details -->
      <div class="booking-step" id="step-3">
        <h3 class="step-title">Your Information</h3>
        <div class="booking-form-grid">
          <div class="form-group"><label>First Name</label><input type="text" id="cust-fname" placeholder="First name" required></div>
          <div class="form-group"><label>Last Name</label><input type="text" id="cust-lname" placeholder="Last name" required></div>
          <div class="form-group"><label>Email</label><input type="email" id="cust-email" placeholder="your@email.com" required></div>
          <div class="form-group"><label>Phone</label><input type="tel" id="cust-phone" placeholder="+1 (555) 000-0000" required></div>
          <div class="form-group full-width"><label>Location</label><select id="cust-location"><option value="Main Office">Main Office ‚Äî 123 Business Ave, Suite 500</option><option value="Downtown Branch">Downtown Branch ‚Äî 456 Commerce Blvd, Floor 3</option><option value="Brooklyn Hub">Brooklyn Hub ‚Äî 789 Innovation Dr, Unit 2B</option></select></div>
          <div class="form-group full-width"><label>Additional Notes</label><textarea id="cust-notes" rows="3" placeholder="Any special requirements?"></textarea></div>
        </div>
        <div class="step-actions"><button class="btn btn-ghost" onclick="prevStep()">Back</button><button class="btn btn-primary" onclick="nextStep()">Continue</button></div>
      </div>

      <!-- STEP 4: Payment -->
      <div class="booking-step" id="step-4">
        <h3 class="step-title">Payment</h3>
        <div class="payment-layout">
          <div class="payment-summary-panel">
            <h4>Booking Summary</h4>
            <div class="summary-row"><span>Service</span><strong id="sum-service">‚Äî</strong></div>
            <div class="summary-row"><span>Expert</span><strong id="sum-staff">‚Äî</strong></div>
            <div class="summary-row"><span>Date</span><strong id="sum-date">‚Äî</strong></div>
            <div class="summary-row"><span>Time</span><strong id="sum-time">‚Äî</strong></div>
            <div class="summary-row"><span>Location</span><strong id="sum-location">‚Äî</strong></div>
            <hr>
            <div class="summary-row total"><span>Total</span><strong id="sum-total">$0</strong></div>
            <!-- Payment Toggle: Full / Deposit -->
            <div class="payment-toggle">
              <label class="toggle-option active" data-pay="full"><input type="radio" name="payType" value="full" checked> <span>Full Payment</span></label>
              <label class="toggle-option" data-pay="deposit"><input type="radio" name="payType" value="deposit"> <span>50% Deposit</span></label>
            </div>
            <div class="summary-row pay-amount"><span id="pay-label">Amount Due</span><strong id="sum-amount">$0</strong></div>
          </div>
          <div class="payment-form-panel">
            <h4>Card Details</h4>
            <div id="card-element" class="card-element-box"></div>
            <div id="card-errors" class="card-errors"></div>
            <div class="payment-security"><span>üîí Secured by Stripe</span></div>
          </div>
        </div>
        <div class="step-actions"><button class="btn btn-ghost" onclick="prevStep()">Back</button><button class="btn btn-primary btn-pay" onclick="processPayment()" id="pay-btn">Pay & Continue</button></div>
      </div>

      <!-- STEP 5: Confirmation -->
      <div class="booking-step" id="step-5">
        <div class="confirmation-box">
          <div class="confirm-icon">‚úì</div>
          <h2>Booking Confirmed!</h2>
          <p>Your appointment has been successfully scheduled. A confirmation email has been sent to <strong id="confirm-email">‚Äî</strong>.</p>
          <div class="confirm-details">
            <div class="confirm-row"><span>Ref #</span><strong id="confirm-ref">‚Äî</strong></div>
            <div class="confirm-row"><span>Service</span><strong id="confirm-svc">‚Äî</strong></div>
            <div class="confirm-row"><span>Expert</span><strong id="confirm-staff">‚Äî</strong></div>
            <div class="confirm-row"><span>Date & Time</span><strong id="confirm-dt">‚Äî</strong></div>
            <div class="confirm-row"><span>Amount Paid</span><strong id="confirm-amt">‚Äî</strong></div>
          </div>
          <div class="confirm-actions">
            <a href="index.html" class="btn btn-primary">Back to Home</a>
            <a href="customer-portal.html" class="btn btn-ghost">View My Bookings</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <script src="script.js"></script>
  <script src="https://js.stripe.com/v3/"></script>
</body>
</html>